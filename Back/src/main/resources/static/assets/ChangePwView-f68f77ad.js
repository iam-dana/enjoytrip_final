import{r as n,i as k,b as S,c as z,h as t,j as i,v as _,d as l,t as r,k as C,m as A,s as B,n as U,p as Z}from"./index-df8b9645.js";const N=l("div",null,"이메일 인증 후 비밀번호를 변경해주세요.",-1),D=l("br",null,null,-1),F=l("div",null,"현재 이메일을 입력해주세요.",-1),T=["disabled"],$=["disabled"],j=["disabled"],I=l("br",null,null,-1),q=l("br",null,null,-1),G=l("br",null,null,-1),H=l("br",null,null,-1),J=["disabled"],O={__name:"ChangePwView",setup(K){function V(){const a={curPw:b.value,newPw:v.value};A(a,({data:e})=>{console.log(e),e.msg!==null&&alert(e.msg)})}const c=n(""),d=n(!1);function E(a){var e=/^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,20}$/;return a.length<8||a.length>20?(c.value="비밀번호는 8~20 자리로 입력해주세요.",d.value=!1,!1):e.test(a)?(c.value="",d.value=!0,!0):(c.value="비밀번호는 문자, 숫자, 특수문자의 조합으로 입력해주세요.",d.value=!1,!1)}const b=n(""),v=n(""),m=n(!0),s=n("");k([v],([a])=>{E(a),d.value?m.value=!1:m.value=!0}),k(s,()=>{o.value=!1,m.value=!o.value,f.value="",p.value="",h.value=!1,g.value=!0});const f=n(""),p=n(""),h=n(!1),g=n(!0),o=n(!1);n("");const w=n(!1);function P(){const a={email:s.value};Z(a,({data:e})=>{e.msg?alert(e.msg):e.isChecked?w.value=!0:w.value=!1})}function y(){if(g.value=!0,x(s.value)){h.value=!0;const a={mail:s.value};B(a,({data:e})=>{console.log(e),e.msg!==null&&(f.value=e.msg)})}}function x(a){return/^[A-Za-z0-9_\\.\\-]+@[A-Za-z0-9\\-]+\.[A-Za-z0-9\\-]+/.test(a)?!0:(g.value=!1,!1)}function M(){const a={mail:s.value,inputString:p.value};U(a,({data:e})=>{console.log(e),f.value=e.msg,o.value=e.isConfirmed})}return(a,e)=>(S(),z("div",null,[N,D,F,t(" Email"),i(l("input",{type:"email",placeholder:"example@exmaple.com","onUpdate:modelValue":e[0]||(e[0]=u=>s.value=u),id:"email"},null,512),[[_,s.value]]),t(r("　")+" "),l("button",{onClick:P},"확인"),t(r("　")+" "),l("button",{onClick:y,disabled:!w.value},"이메일 인증",8,T),t(r("　")+" "),i(l("span",null,[t("인증 번호 "),i(l("input",{disabled:o.value,"onUpdate:modelValue":e[1]||(e[1]=u=>p.value=u),autocomplete:"off"},null,8,$),[[_,p.value]]),l("button",{onClick:M,disabled:o.value},"인증하기",8,j)],512),[[C,h.value]]),l("span",null,r(f.value),1),I,q,i(l("div",null,[t(" 현재 비밀번호"),i(l("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=u=>b.value=u),id:"curPw"},null,512),[[_,b.value]]),G,t(" 변경하려는 비밀번호"),i(l("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=u=>v.value=u),id:"newPw"},null,512),[[_,v.value]]),l("div",null,r(c.value),1),H],512),[[C,o.value]]),l("button",{disabled:m.value,onClick:V},"비밀번호 변경",8,J)]))}};export{O as default};
