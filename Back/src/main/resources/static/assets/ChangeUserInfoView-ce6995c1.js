import{u as U,r as a,i as M,b as S,c as T,h as n,j as i,v,d as l,t as d,k as h,G as z,s as A,n as B,H as I,p as N}from"./index-df8b9645.js";const Z=l("div",null,"현재 이메일을 입력해주세요.",-1),D=l("br",null,null,-1),j=l("br",null,null,-1),F=l("div",null,"변경하려는 이메일을 입력하고 인증해주세요.",-1),G=["disabled"],H=["disabled"],J=["disabled"],R=["disabled"],q=l("br",null,null,-1),K=["disabled"],L=l("br",null,null,-1),O=l("br",null,null,-1),P=l("br",null,null,-1),X={__name:"ChangeUserInfoView",setup(Q){const g=U();function C(){const s={email:o.value};z(s,({data:e})=>{alert(e.msg)})}function k(s){document.cookie=s+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function E(){const s={userpassword:p.value};I(s,({data:e})=>{alert(e.msg),k("userid"),g.push({name:"home"})})}const p=a(""),o=a(""),f=a(""),_=a(!1);function x(){const s={email:f.value};N(s,({data:e})=>{e.msg?alert(e.msg):e.isChecked?_.value=!0:_.value=!1})}M(o,()=>{u.value=!1,r.value="",c.value="",b.value=!1,m.value=!0});const r=a(""),c=a(""),b=a(!1),m=a(!0),u=a(!1);function y(){if(m.value=!0,V(o.value)){b.value=!0;const s={mail:o.value};A(s,({data:e})=>{console.log(e),e.msg!==null&&(r.value=e.msg)})}}function V(s){return/^[A-Za-z0-9_\\.\\-]+@[A-Za-z0-9\\-]+\.[A-Za-z0-9\\-]+/.test(s)?!0:(m.value=!1,!1)}function w(){const s={mail:o.value,inputString:c.value};B(s,({data:e})=>{console.log(e),r.value=e.msg,u.value=e.isConfirmed})}return(s,e)=>(S(),T("div",null,[Z,n(" Email"),i(l("input",{type:"email",placeholder:"example@exmaple.com","onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t),id:"email"},null,512),[[v,f.value]]),n(d("　")+" "),l("button",{onClick:x},"확인"),n(d("　")+" "),D,j,F,n(" Email"),i(l("input",{disabled:!_.value,type:"email",placeholder:"example@exmaple.com","onUpdate:modelValue":e[1]||(e[1]=t=>o.value=t),id:"email"},null,8,G),[[v,o.value]]),n(d("　")+" "),l("button",{onClick:y,disabled:u.value},"이메일 인증",8,H),n(d("　")+" "),i(l("span",null,"유효한 이메일 형식이 아닙니다.",512),[[h,!m.value]]),i(l("span",null,[n("인증 번호 "),i(l("input",{disabled:u.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),autocomplete:"off"},null,8,J),[[v,c.value]]),l("button",{onClick:w,disabled:u.value},"인증하기",8,R)],512),[[h,b.value]]),l("span",null,d(r.value),1),q,l("button",{disabled:!u.value,onClick:C},"이메일 변경",8,K),n(d(" ")+" "),L,O,l("div",null,[n(" 비밀번호 입력"),i(l("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t),id:"password"},null,512),[[v,p.value]]),P]),l("button",{onClick:E},"회원 탈퇴")]))}};export{X as default};
