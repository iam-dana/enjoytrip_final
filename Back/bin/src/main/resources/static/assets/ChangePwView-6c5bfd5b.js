import{r as n,i as k,b as S,c as y,h as o,j as t,v as _,d as l,t as b,k as w,m as M,s as z,n as A}from"./index-113fe4ec.js";const B=l("div",null,"이메일 인증 후 비밀번호를 변경해주세요.",-1),U=l("br",null,null,-1),Z=["disabled"],N=["disabled"],D=["disabled"],F=l("br",null,null,-1),I=l("br",null,null,-1),T=l("br",null,null,-1),$=l("br",null,null,-1),j=["disabled"],H={__name:"ChangePwView",setup(q){function V(){const a={userid:sessionStorage.getItem("userid"),curPw:g.value,newPw:v.value};M(a,({data:e})=>{console.log(e),e.msg!==null&&alert(e.msg)})}const d=n(""),r=n(!1);function P(a){var e=/^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,20}$/;return a.length<8||a.length>20?(d.value="비밀번호는 8~20 자리로 입력해주세요.",r.value=!1,!1):e.test(a)?(d.value="",r.value=!0,!0):(d.value="비밀번호는 문자, 숫자, 특수문자의 조합으로 입력해주세요.",r.value=!1,!1)}const g=n(""),v=n(""),c=n(!0),i=n("");k([v],([a])=>{P(a),r.value?c.value=!1:c.value=!0}),k(i,()=>{u.value=!1,c.value=!u.value,m.value="",f.value="",h.value=!1,p.value=!0});const m=n(""),f=n(""),h=n(!1),p=n(!0),u=n(!1);function C(){if(p.value=!0,x(i.value)){h.value=!0;const a={mail:i.value};z(a,({data:e})=>{console.log(e),e.msg!==null&&(m.value=e.msg)})}}function x(a){return/^[A-Za-z0-9_\\.\\-]+@[A-Za-z0-9\\-]+\.[A-Za-z0-9\\-]+/.test(a)?!0:(p.value=!1,!1)}function E(){const a={mail:i.value,inputString:f.value};A(a,({data:e})=>{console.log(e),m.value=e.msg,u.value=e.isConfirmed})}return(a,e)=>(S(),y("div",null,[B,U,o(" Email"),t(l("input",{type:"email",placeholder:"example@exmaple.com","onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),id:"email"},null,512),[[_,i.value]]),o(b("　")+" "),l("button",{onClick:C,disabled:u.value},"이메일 인증",8,Z),o(b("　")+" "),t(l("span",null,"유효한 이메일 형식이 아닙니다.",512),[[w,!p.value]]),t(l("span",null,[o("인증 번호 "),t(l("input",{disabled:u.value,"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s)},null,8,N),[[_,f.value]]),l("button",{onClick:E,disabled:u.value},"인증하기",8,D)],512),[[w,h.value]]),l("span",null,b(m.value),1),F,I,t(l("div",null,[o(" 현재 비밀번호"),t(l("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),id:"curPw"},null,512),[[_,g.value]]),T,o(" 변경하려는 비밀번호"),t(l("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>v.value=s),id:"newPw"},null,512),[[_,v.value]]),l("div",null,b(d.value),1),$],512),[[w,u.value]]),l("button",{disabled:c.value,onClick:V},"비밀번호 변경",8,j)]))}};export{H as default};
