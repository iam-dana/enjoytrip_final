import{r as o,i as C,b as I,c as V,h as t,j as u,v as _,d as l,t as v,k as f,D as w,s as E,n as x,E as y}from"./index-113fe4ec.js";const U=l("div",null,"변경하려는 이메일을 입력하고 인증해주세요.",-1),M=["disabled"],z=["disabled"],A=["disabled"],B=l("br",null,null,-1),D=l("br",null,null,-1),N=["disabled"],Z=l("br",null,null,-1),T=l("br",null,null,-1),j=l("br",null,null,-1),G={__name:"ChangeUserInfoView",setup(F){function b(){const s={userid:sessionStorage.getItem("userid"),email:n.value};w(s,({data:e})=>{console.log(e)})}function g(){const s={userid:sessionStorage.getItem("userid"),userpassword:m.value};console.log(s),y(s,({data:e})=>{alert(e),sessionStorage.removeItem("userid"),sessionStorage.removeItem("acceess_token"),sessionStorage.removeItem("refresh_token")})}const m=o(""),n=o("");C(n,()=>{a.value=!1,d.value="",r.value="",p.value=!1,c.value=!0});const d=o(""),r=o(""),p=o(!1),c=o(!0),a=o(!1);function h(){if(c.value=!0,k(n.value)){p.value=!0;const s={mail:n.value};E(s,({data:e})=>{console.log(e),e.msg!==null&&(d.value=e.msg)})}}function k(s){return/^[A-Za-z0-9_\\.\\-]+@[A-Za-z0-9\\-]+\.[A-Za-z0-9\\-]+/.test(s)?!0:(c.value=!1,!1)}function S(){const s={mail:n.value,inputString:r.value};x(s,({data:e})=>{console.log(e),d.value=e.msg,a.value=e.isConfirmed})}return(s,e)=>(I(),V("div",null,[U,t(" Email"),u(l("input",{type:"email",placeholder:"example@exmaple.com","onUpdate:modelValue":e[0]||(e[0]=i=>n.value=i),id:"email"},null,512),[[_,n.value]]),t(v("　")+" "),l("button",{onClick:h,disabled:a.value},"이메일 인증",8,M),t(v("　")+" "),u(l("span",null,"유효한 이메일 형식이 아닙니다.",512),[[f,!c.value]]),u(l("span",null,[t("인증 번호 "),u(l("input",{disabled:a.value,"onUpdate:modelValue":e[1]||(e[1]=i=>r.value=i)},null,8,z),[[_,r.value]]),l("button",{onClick:S,disabled:a.value},"인증하기",8,A)],512),[[f,p.value]]),l("span",null,v(d.value),1),B,D,l("button",{disabled:!a.value,onClick:b},"이메일 변경",8,N),t(v(" ")+" "),Z,T,l("div",null,[t(" 비밀번호 입력"),u(l("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>m.value=i),id:"password"},null,512),[[_,m.value]]),j]),l("button",{onClick:g},"회원 탈퇴")]))}};export{G as default};
